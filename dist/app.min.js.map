{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/browserify/node_modules/process/browser.js","app.min.js","node_modules/es6-promise/dist/es6-promise.js","src/components/reel.js","src/components/state/loadBar.js","src/config.js","src/filters/myBlurY.js","src/game.js","src/main.js","src/mixins/models/drawable.js","src/mixins/states/preloadingAnimated.js","src/models/base.js","src/models/slots.js","src/models/stake.js","src/services/http.js","src/states/boot.js","src/states/index.js","src/states/load.js","src/states/loadfail.js","src/states/play.js","src/states/preload.js","src/states/tutorial.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","app","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","cachedSetTimeout","len","run","cachedClearTimeout","Item","fun","array","noop","process","setTimeout","clearTimeout","nextTick","args","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","2","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$len","callback","lib$es6$promise$asap$$queue","arg","undefined","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","parent","child","constructor","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$PROMISE_ID","lib$es6$promise$$internal$$makePromise","state","_state","lib$es6$promise$$internal$$invokeCallback","_result","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","object","Constructor","promise","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","then","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","resolve","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$$internal$$nextId","lib$es6$promise$$internal$$id","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","reject","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","lib$es6$promise$enumerator$$Enumerator","input","_instanceConstructor","_input","_remaining","_enumerate","lib$es6$promise$enumerator$$validationError","lib$es6$promise$polyfill$$polyfill","local","Function","P","Promise","Object","toString","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","Math","random","substring","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","all","race","_setScheduler","_setAsap","_asap","catch","_eachEntry","entry","c","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","_process","3","__extends","d","b","__","p","hasOwnProperty","create","es6_promise_1","ReelException","AlreadyStarted","_super","class_1","AlreadyStopped","class_2","UnsopportedAccelarationPower","class_3","ReelItem","Phaser","Sprite","Reel","game","spriteName","framesNumber","blurFilterId","maxBlurValue","items","isStarting","isStarted","isStopping","velocity","defineProperty","get","enumerable","configurable","baseX","baseY","offset","stopYOffset","itemsNumber","y","blurFilter","add","filter","blur","padding","dy","item","mask","filters","frame","getRandomFrame","existing","start","pixelsPerSecond","accelerationSeconds","accelarationPower","_this","isRunning","Easing_1","Easing","Quadratic","Cubic","Quartic","Quintic","dS","Timer","SECOND","duration","c_1","pow","lastY_1","lastUpdateTime","time","now","startPromise","tween","to","In","onUpdateCallback","percent","diffY","update","onComplete","addOnce","stop","finalFrameNumber","stopItem_1","forEach","pullY_1","height","Linear","None","Elastic","Out","onUpdate","getTopVisibleItem","visibleItems","sort","reset","deadlineY","count","itemOffset","itemY","gap","ajustment","ceil","round","Exception","../filters/myBlurY","es6-promise","4","StateLoadBar","dictionary","animationMinTime","stateLoaded","onPreloadStart","preloadingStartTime","onPreloadComplete","loadingDebounce","loadTime","events","processLoading","tweenInterval","loadBar","graphics","lineStyle","moveTo","lineTo","width","scale","loadText","text","world","centerX","loading","alight","fill","font","stroke","anchor","set","progressTween","InOut","fadeOutTween","addMultiple","group","alpha","chain","delay","timeScale","5","AUDIO_KEY","BIG_WIN","REEL","REG_WIN","basic","API_BASE","BOOTSTRAP_STATE","CONFIG_PATH","GAME","ATLAS_SPRITE","key","url","atlas","texture","AUDIO","urls","BET_RANGE","CARDS_FRAMES_MAP","J","K","Q","T","CARDS_NUMBER","CARDS_SPRITE","INITIAL_BALANCE","WIN_TYPE","BIG","NONE","REGULAR","STAGE","COLOR","CONTAINER","HEIGHT","WIDTH","6","MyBlurY","uniforms","fragmentSrc","type","dirty","Filter","7","config","states","Game","AUTO","keys","./config","./states/","8","game_1","./game","9","Drawable","superclass","drawers","draw","props","drawer","registerDrawer","10","PreloadingAnimated","isPreloaded","circleParams","color1","color2","color3","diameter","distance","opacity","startPreLoading","onPreLoadComplete","finishAnimation","fadeOutTime","p1","p0","Exponential","p2","p3","Point","centerY","rotate","graphics1","beginFill","drawCircle","endFill","graphics2","graphics3","clear","scale1","abs","sin","angle","scale2","scale3","11","Base","12","config_1","base_1","drawable_1","http_1","Slots","_stake","_balance","http","indexOf","spin","balance","bet","post","action","symbol","response","../config","../mixins/models/drawable","../services/http","./base","13","Stake","_symbol","_bet","isValid","14","Http","baseUrl","contentType","path","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","DONE","status","JSON","parse","responseText","open","setRequestHeader","send","stringify","put","15","Boot","init","stage","backgroundColor","setGameSize","scaleMode","ScaleManager","SHOW_ALL","windowConstraints","bottom","onSizeChange","State","16","boot_1","loadfail_1","Loadfail","preload_1","Preload","load_1","Load","tutorial_1","Tutorial","play_1","Play","./boot","./load","./loadfail","./play","./preload","./tutorial","17","loadBar_1","myLocale","loadBarDebounce","load","isLoading","some","_a","cache","isSoundDecoded","preload","audio","script","sound","setDecodedCallback","map","../components/state/loadBar","18","default_1","19","slots_1","stake_1","reel_1","reel","slots","createCards","createReel","createBetButtons","createAudio","toggleInput","textStyle","balanceText","cardsGroup","top","betText","stake","model","changedProps","prop","setText","frame_1","children","card","tint","inputEnableChildren","button","onChildInputOver","onChildInputOut","onChildInputDown","onChildInputUp","onCardClick","reelWindow","drawRect","decrementBtn","toggleBetInput","frameName","incrementBtn","reelAudio","bigwinAudio","regwinAudio","fadeIn","loopFull","getFrameSymbol","spinResult","totalWin","winType","item_1","mask_1","animateBigWin","animateRegWin","fadeOut","alert","frameNumber","symbols","enabled","inputEnabled","useHandCursor","decEnabled","incEnabled","win","winText","max","toFixed","destroy","../components/reel","../models/slots","../models/stake","20","preloadingAnimated_1","json","onFileComplete","onLoadComplete","progress","success","myConfig","getJSON","localePath","locale","remove","../mixins/states/preloadingAnimated","21","initControls","wavesFilter","background","sprite","gameTitle","instructions","gameInstructions","keyboard","addKey","KeyCode","SPACEBAR","onDown"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.app = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],2:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":1}],3:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nrequire(\"../filters/myBlurY\");\nvar es6_promise_1 = require(\"es6-promise\");\nvar ReelException = {\n    AlreadyStarted: (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            _super.apply(this, arguments);\n            this.name = \"AlreadyStartedException\";\n        }\n        return class_1;\n    }(Error)),\n    AlreadyStopped: (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            _super.apply(this, arguments);\n            this.name = \"AlreadyStoppedException\";\n        }\n        return class_2;\n    }(Error)),\n    UnsopportedAccelarationPower: (function (_super) {\n        __extends(class_3, _super);\n        function class_3() {\n            _super.apply(this, arguments);\n            this.name = \"UnsopportedAccelarationPowerException\";\n        }\n        return class_3;\n    }(Error)),\n};\nvar ReelItem = (function (_super) {\n    __extends(ReelItem, _super);\n    function ReelItem() {\n        _super.apply(this, arguments);\n    }\n    return ReelItem;\n}(Phaser.Sprite));\nvar Reel = (function () {\n    function Reel(game, spriteName, framesNumber, blurFilterId, maxBlurValue) {\n        if (maxBlurValue === void 0) { maxBlurValue = 15; }\n        this.game = game;\n        this.spriteName = spriteName;\n        this.framesNumber = framesNumber;\n        this.blurFilterId = blurFilterId;\n        this.maxBlurValue = maxBlurValue;\n        this.items = [];\n        this.isStarting = false;\n        this.isStarted = false;\n        this.isStopping = false;\n        this.velocity = 0;\n    }\n    Object.defineProperty(Reel.prototype, \"isRunning\", {\n        get: function () {\n            return this.isStarting || this.isStarted || this.isStopping;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Reel.prototype.create = function (baseX, baseY, window, offset, stopYOffset, itemsNumber) {\n        if (stopYOffset === void 0) { stopYOffset = 0; }\n        if (itemsNumber === void 0) { itemsNumber = 3; }\n        this.baseX = baseX;\n        this.baseY = baseY;\n        this.stopYOffset = stopYOffset;\n        this.y = baseY + stopYOffset;\n        this.window = window;\n        this.offset = offset;\n        this.blurFilter = this.game.add.filter(this.blurFilterId);\n        this.blurFilter.blur = 0;\n        this.blurFilter.padding = 10;\n        for (var i = 0; i < itemsNumber; i++) {\n            var dy = offset * i;\n            var item = new ReelItem(this.game, this.baseX, this.y - dy, this.spriteName);\n            item.offset = dy;\n            item.mask = window;\n            item.filters = [this.blurFilter];\n            item.frame = this.getRandomFrame();\n            this.game.add.existing(item);\n            this.items.push(item);\n        }\n        return this;\n    };\n    Reel.prototype.start = function (pixelsPerSecond, accelerationSeconds, accelarationPower) {\n        var _this = this;\n        if (pixelsPerSecond === void 0) { pixelsPerSecond = 1000; }\n        if (accelerationSeconds === void 0) { accelerationSeconds = 1; }\n        if (accelarationPower === void 0) { accelarationPower = 4; }\n        if (!this.isRunning) {\n            var Easing_1 = (function (p) {\n                switch (p) {\n                    case 2: return Phaser.Easing.Quadratic;\n                    case 3: return Phaser.Easing.Cubic;\n                    case 4: return Phaser.Easing.Quartic;\n                    case 5: return Phaser.Easing.Quintic;\n                }\n                throw new ReelException.UnsopportedAccelarationPower(\"Unsopported accelaration power passed. Supported: [2, 3, 4, 5]\");\n            })(accelarationPower);\n            var dS = pixelsPerSecond / Phaser.Timer.SECOND;\n            var duration = accelerationSeconds * Phaser.Timer.SECOND;\n            var c_1 = dS / (1 - Math.pow((duration - 1) / duration, accelarationPower));\n            var lastY_1 = this.y;\n            this.lastUpdateTime = this.game.time.now;\n            this.isStarting = true;\n            this.startPromise = new es6_promise_1.Promise(function (resolve) {\n                _this.game.add.tween(_this)\n                    .to({ y: _this.y + c_1 }, Phaser.Timer.SECOND * accelerationSeconds, Easing_1.In, true)\n                    .onUpdateCallback(function (tween, percent) {\n                    var diffY = _this.y - lastY_1;\n                    lastY_1 = _this.y;\n                    _this.update(percent * _this.maxBlurValue);\n                    _this.velocity = diffY / (_this.game.time.now - _this.lastUpdateTime) * Phaser.Timer.SECOND;\n                    _this.lastUpdateTime = _this.game.time.now;\n                })\n                    .onComplete.addOnce(function () {\n                    _this.startPromise = null;\n                    _this.isStarting = false;\n                    _this.isStarted = true;\n                    _this.velocity = pixelsPerSecond;\n                    _this.lastUpdateTime = _this.game.time.now;\n                    resolve();\n                });\n            });\n            return this.startPromise;\n        }\n        throw new ReelException.AlreadyStarted(\"Start method was already called\");\n    };\n    Reel.prototype.stop = function (finalFrameNumber) {\n        var _this = this;\n        if (this.isStarted && !this.isStopping) {\n            this.isStopping = true;\n            this.isStarted = false;\n            this.isStarting = false;\n            this.update();\n            var stopItem_1 = this.items[0];\n            this.items.forEach(function (item) {\n                if (item.offset > stopItem_1.offset) {\n                    stopItem_1 = item;\n                }\n            });\n            stopItem_1.frame = finalFrameNumber;\n            var dy = this.baseY - (this.y - stopItem_1.offset) + this.stopYOffset;\n            var pullY_1 = dy - stopItem_1.height;\n            return new es6_promise_1.Promise(function (resolve) {\n                _this.game.add.tween(_this)\n                    .to({ y: _this.y + pullY_1 }, pullY_1 / _this.velocity * Phaser.Timer.SECOND, Phaser.Easing.Linear.None, true)\n                    .onUpdateCallback(function () { return _this.update(); })\n                    .onComplete.addOnce(function () {\n                    _this.game.add.tween(_this)\n                        .to({ y: _this.y + stopItem_1.height }, stopItem_1.height / _this.velocity * Phaser.Timer.SECOND * 10, Phaser.Easing.Elastic.Out, true)\n                        .onUpdateCallback(function (tween, percent) {\n                        _this.update((1 - percent) * _this.maxBlurValue);\n                    })\n                        .onComplete.addOnce(function () {\n                        _this.isStopping = false;\n                        resolve();\n                    });\n                });\n            });\n        }\n        else if (this.isStarting) {\n            return this.startPromise.then(function () { return _this.stop(finalFrameNumber); });\n        }\n        throw new ReelException.AlreadyStopped(\"Stop method was already called\");\n    };\n    Reel.prototype.onUpdate = function () {\n        if (this.isStarted) {\n            this.y += this.velocity * (this.game.time.now - this.lastUpdateTime) / Phaser.Timer.SECOND;\n            this.lastUpdateTime = this.game.time.now;\n            this.update(void (0), true);\n        }\n    };\n    Reel.prototype.getTopVisibleItem = function () {\n        var _this = this;\n        var visibleItems = this.items\n            .filter(function (item) { return item.y >= _this.baseY + _this.stopYOffset; })\n            .sort(function (a, b) { return a.y - b.y; });\n        return visibleItems.length ? visibleItems[0] : null;\n    };\n    Reel.prototype.update = function (blur, reset) {\n        var _this = this;\n        if (reset === void 0) { reset = false; }\n        var deadlineY = this.window.y + this.window.height;\n        var count = this.items.length;\n        this.items.forEach(function (item, i) {\n            var itemOffset = item.offset;\n            var itemY = _this.y - itemOffset;\n            if (itemY > deadlineY) {\n                var gap = itemY - deadlineY;\n                var ajustment = count * _this.offset;\n                itemOffset += ajustment * Math.ceil(gap / ajustment);\n                itemY = _this.y - itemOffset;\n                item.frame = _this.getRandomFrame();\n            }\n            if (reset) {\n                itemOffset -= _this.y;\n                itemY = -itemOffset;\n            }\n            item.y = itemY;\n            item.offset = itemOffset;\n        });\n        if (reset) {\n            this.y = 0;\n        }\n        if (blur !== undefined && blur !== this.blurFilter.blur) {\n            this.blurFilter.blur = blur;\n        }\n    };\n    Reel.prototype.getRandomFrame = function () {\n        return Math.round(Math.random() * (this.framesNumber - 1));\n    };\n    Reel.Exception = ReelException;\n    return Reel;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Reel;\n\n},{\"../filters/myBlurY\":6,\"es6-promise\":2}],4:[function(require,module,exports){\n\"use strict\";\nvar StateLoadBar = (function () {\n    function StateLoadBar(state, dictionary, animationMinTime) {\n        if (animationMinTime === void 0) { animationMinTime = 2000 + Math.random() * 3000; }\n        this.state = state;\n        this.dictionary = dictionary;\n        this.animationMinTime = animationMinTime;\n        this.stateLoaded = false;\n    }\n    StateLoadBar.prototype.onPreloadStart = function () {\n        this.preloadingStartTime = this.state.time.now;\n    };\n    StateLoadBar.prototype.onPreloadComplete = function (loadingDebounce) {\n        var _this = this;\n        if (loadingDebounce === void 0) { loadingDebounce = 0; }\n        var loadTime = this.state.time.now - this.preloadingStartTime;\n        this.state.time.events.add(loadTime > loadingDebounce + this.animationMinTime ? 0 : this.animationMinTime - loadTime + loadingDebounce, function () { return _this.stateLoaded = true; });\n    };\n    StateLoadBar.prototype.processLoading = function (onComplete) {\n        var _this = this;\n        var tweenInterval = [0, 0.9];\n        var loadBar = this.state.add.graphics(0, this.state.game.height - 50)\n            .lineStyle(5, 0xffffff, 1)\n            .moveTo(0, 0)\n            .lineTo(this.state.game.width, 0);\n        loadBar.scale.x = tweenInterval[0];\n        var loadText = this.state.game.add.text(this.state.world.centerX, this.state.game.height - 100, this.dictionary.loading, {\n            alight: \"center\",\n            fill: \"#FFF\",\n            font: \"45px Arial\",\n            stroke: \"#FFF\",\n        });\n        loadText.anchor.set(0.5);\n        var progressTween = this.state.add.tween(loadBar.scale)\n            .to({ x: tweenInterval[1] }, 3000, Phaser.Easing.Quadratic.InOut, true)\n            .onUpdateCallback(function () {\n            if (_this.stateLoaded) {\n                var fadeOutTween = _this.state.add.tween((function (g) { return g.addMultiple([loadBar, loadText]) && g; })(_this.state.add.group()))\n                    .to({ alpha: 0 }, 500);\n                progressTween.stop();\n                _this.state.add.tween(loadBar.scale)\n                    .to({ x: 1 }, 500, Phaser.Easing.Quadratic.In, true)\n                    .chain(fadeOutTween);\n                fadeOutTween.delay(500).onComplete.add(onComplete);\n            }\n            else if (loadBar.scale.x > tweenInterval[0] + (tweenInterval[1] - tweenInterval[0]) / 2) {\n                tweenInterval[0] = loadBar.scale.x;\n                progressTween.timeScale /= 2;\n            }\n        });\n    };\n    return StateLoadBar;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StateLoadBar;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n;\nvar AUDIO_KEY = {\n    BIG_WIN: \"bigwin\",\n    REEL: \"reel\",\n    REG_WIN: \"regwin\",\n};\nvar basic = {\n    API_BASE: \"http://artemplatonov.com/phasering/\",\n    BOOTSTRAP_STATE: \"Boot\",\n    CONFIG_PATH: \"config.json\",\n    GAME: {\n        ATLAS_SPRITE: {\n            key: \"atlas\",\n            url: {\n                atlas: \"./assets/sprites/atlas.json\",\n                texture: \"./assets/sprites/atlas.png\",\n            },\n        },\n        AUDIO: [\n            { key: AUDIO_KEY.REEL, urls: [\"./assets/audio/reel.mp3\"] },\n            { key: AUDIO_KEY.BIG_WIN, urls: [\"./assets/audio/bigwin.mp3\"] },\n            { key: AUDIO_KEY.REG_WIN, urls: [\"./assets/audio/regwin.mp3\"] },\n        ],\n        AUDIO_KEY: AUDIO_KEY,\n        BET_RANGE: [1, 5],\n        CARDS_FRAMES_MAP: {\n            J: 0,\n            K: 1,\n            Q: 2,\n            T: 3,\n        },\n        CARDS_NUMBER: 4,\n        CARDS_SPRITE: {\n            key: \"letters\",\n            url: {\n                atlas: \"./assets/sprites/letters.json\",\n                texture: \"./assets/sprites/letters.png\",\n            },\n        },\n        INITIAL_BALANCE: 1000,\n        WIN_TYPE: {\n            BIG: \"bigWin\",\n            NONE: \"none\",\n            REGULAR: \"regular\",\n        },\n    },\n    STAGE: {\n        COLOR: 0x182d3b,\n        CONTAINER: \"game-canvas\",\n        HEIGHT: 1536,\n        WIDTH: 2048,\n    },\n};\nexports.basic = basic;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar MyBlurY = (function (_super) {\n    __extends(MyBlurY, _super);\n    function MyBlurY(game, uniforms, fragmentSrc) {\n        _super.call(this, game, uniforms, fragmentSrc);\n        this.uniforms.blur = { type: \"1f\", value: 1 / 512 };\n        this.fragmentSrc = [\n            \"precision mediump float;\",\n            \"varying vec2 vTextureCoord;\",\n            \"varying vec4 vColor;\",\n            \"uniform float blur;\",\n            \"uniform sampler2D uSampler;\",\n            \"void main(void) {\",\n            \"vec4 sum = vec4(0.0);\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;\",\n            \"gl_FragColor = sum;\",\n            \"}\",\n        ];\n    }\n    Object.defineProperty(MyBlurY.prototype, \"blur\", {\n        get: function () {\n            return this.uniforms.blur.value / (1 / 7000);\n        },\n        set: function (value) {\n            this.dirty = true;\n            this.uniforms.blur.value = (1 / 7000) * value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MyBlurY;\n}(Phaser.Filter));\nPhaser.Filter.MyBlurY = MyBlurY;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = MyBlurY;\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config = require(\"./config\");\nvar states = require(\"./states/\");\nvar Game = (function (_super) {\n    __extends(Game, _super);\n    function Game() {\n        var _this = this;\n        _super.call(this, 0, 0, Phaser.AUTO, config.basic.STAGE.CONTAINER, null);\n        Object.keys(states).forEach(function (state) { return _this.state.add(state, states[state]); });\n        this.state.start(config.basic.BOOTSTRAP_STATE);\n    }\n    return Game;\n}(Phaser.Game));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Game;\n\n},{\"./config\":5,\"./states/\":16}],8:[function(require,module,exports){\n\"use strict\";\nvar game_1 = require(\"./game\");\nnew game_1.default();\n\n},{\"./game\":7}],9:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Drawable = function (superclass) { return (function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n        _super.apply(this, arguments);\n        this.drawers = [];\n    }\n    class_1.prototype.draw = function (props) {\n        var _this = this;\n        this.drawers.forEach(function (drawer) { return drawer(_this, props); });\n    };\n    class_1.prototype.registerDrawer = function (drawer) {\n        this.drawers.push(drawer);\n    };\n    return class_1;\n}(superclass)); };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Drawable;\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = function (superclass) { return (function (_super) {\n    __extends(PreloadingAnimated, _super);\n    function PreloadingAnimated() {\n        _super.apply(this, arguments);\n        this.isPreloaded = false;\n        this.animationMinTime = 3000;\n        this.circleParams = {\n            color1: 0xffff00,\n            color2: 0xff0000,\n            color3: 0x0000ff,\n            diameter: 50,\n            distance: 200,\n            opacity: 1,\n        };\n    }\n    PreloadingAnimated.prototype.startPreLoading = function () {\n        this.preloadingStartTime = this.time.now;\n    };\n    PreloadingAnimated.prototype.onPreLoadComplete = function (onComplete) {\n        var _this = this;\n        var loadTime = this.time.now - this.preloadingStartTime;\n        setTimeout(function () {\n            _this.finishAnimation(onComplete);\n        }, loadTime > this.animationMinTime ? 0 : this.animationMinTime - loadTime);\n    };\n    PreloadingAnimated.prototype.finishAnimation = function (onComplete) {\n        var fadeOutTime = 2000;\n        this.isPreloaded = true;\n        this.add.tween(this.p1)\n            .to({ x: this.p0.x, y: this.p0.y }, fadeOutTime, Phaser.Easing.Exponential.Out, true);\n        this.add.tween(this.p2)\n            .to({ x: this.p0.x, y: this.p0.y }, fadeOutTime, Phaser.Easing.Exponential.Out, true);\n        this.add.tween(this.p3)\n            .to({ x: this.p0.x, y: this.p0.y }, fadeOutTime, Phaser.Easing.Exponential.Out, true);\n        this.add.tween(this.circleParams)\n            .to({ opacity: 0 }, fadeOutTime, Phaser.Easing.Exponential.In, true)\n            .onComplete.add(onComplete);\n    };\n    PreloadingAnimated.prototype.create = function () {\n        _super.prototype.create.call(this);\n        this.p0 = new Phaser.Point(this.world.centerX, this.world.centerY);\n        this.p1 = new Phaser.Point(this.p0.x + this.circleParams.distance, this.p0.y);\n        this.p2 = new Phaser.Point(this.p0.x + this.circleParams.distance, this.p0.y);\n        this.p3 = new Phaser.Point(this.p0.x + this.circleParams.distance, this.p0.y);\n        this.p1.rotate(this.p0.x, this.p0.y, 30, true);\n        this.p2.rotate(this.p0.x, this.p0.y, 150, true);\n        this.p3.rotate(this.p0.x, this.p0.y, 270, true);\n        this.graphics1 = this.add.graphics(this.p1.x, this.p1.y);\n        this.graphics1.beginFill(this.circleParams.color1);\n        this.graphics1.drawCircle(0, 0, this.circleParams.diameter);\n        this.graphics1.endFill();\n        this.graphics2 = this.add.graphics(this.p2.x, this.p2.y);\n        this.graphics2.beginFill(this.circleParams.color2);\n        this.graphics2.drawCircle(0, 0, this.circleParams.diameter);\n        this.graphics2.endFill();\n        this.graphics3 = this.add.graphics(this.p3.x, this.p3.y);\n        this.graphics3.beginFill(this.circleParams.color3);\n        this.graphics3.drawCircle(0, 0, this.circleParams.diameter);\n        this.graphics3.endFill();\n    };\n    PreloadingAnimated.prototype.update = function () {\n        _super.prototype.update.call(this);\n        if (this.isPreloaded) {\n            this.graphics1.clear();\n            this.graphics1.beginFill(this.circleParams.color1, this.circleParams.opacity);\n            this.graphics1.drawCircle(0, 0, this.circleParams.diameter);\n            this.graphics1.endFill();\n            this.graphics2.clear();\n            this.graphics2.beginFill(this.circleParams.color2, this.circleParams.opacity);\n            this.graphics2.drawCircle(0, 0, this.circleParams.diameter);\n            this.graphics2.endFill();\n            this.graphics3.clear();\n            this.graphics3.beginFill(this.circleParams.color3, this.circleParams.opacity);\n            this.graphics3.drawCircle(0, 0, this.circleParams.diameter);\n            this.graphics3.endFill();\n        }\n        else {\n            var scale1 = 1 + Math.abs(Math.sin(this.p1.angle(this.p0)));\n            var scale2 = 1 + Math.abs(Math.sin(this.p2.angle(this.p0)));\n            var scale3 = 1 + Math.abs(Math.sin(this.p3.angle(this.p0)));\n            var angle = 4;\n            this.p1.rotate(this.p0.x, this.p0.y, angle, true);\n            this.p2.rotate(this.p0.x, this.p0.y, angle, true);\n            this.p3.rotate(this.p0.x, this.p0.y, angle, true);\n            this.graphics1.scale.set(scale1, scale1);\n            this.graphics2.scale.set(scale2, scale2);\n            this.graphics3.scale.set(scale3, scale3);\n        }\n        this.graphics1.x = this.p2.x;\n        this.graphics1.y = this.p1.y;\n        this.graphics2.x = this.p1.x;\n        this.graphics2.y = this.p2.y;\n        this.graphics3.x = (this.p1.x + this.p2.x) / 2;\n        this.graphics3.y = this.p3.y;\n    };\n    return PreloadingAnimated;\n}(superclass)); };\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Base;\n\n},{}],12:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar base_1 = require(\"./base\");\nvar drawable_1 = require(\"../mixins/models/drawable\");\nvar http_1 = require(\"../services/http\");\nvar Slots = (function (_super) {\n    __extends(Slots, _super);\n    function Slots(_stake, _balance) {\n        if (_balance === void 0) { _balance = 1000; }\n        _super.call(this);\n        this._stake = _stake;\n        this._balance = _balance;\n        this.http = new http_1.default(config_1.basic.API_BASE);\n    }\n    Object.defineProperty(Slots.prototype, \"stake\", {\n        get: function () {\n            return this._stake;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slots.prototype, \"balance\", {\n        get: function () {\n            return this._balance;\n        },\n        set: function (value) {\n            this._balance = value;\n            this.draw([\"balance\"]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Slots.prototype.draw = function (props) {\n        _super.prototype.draw.call(this, props);\n        if (props.indexOf(\"stake\") !== -1) {\n            this._stake.draw([\"symbol\", \"bet\"]);\n        }\n    };\n    Slots.prototype.spin = function () {\n        this.balance -= this._stake.bet;\n        return this.http.post(\"action.php\", {\n            action: \"SpinRequest\",\n            data: {\n                \"symbol\": this._stake.symbol,\n                \"bet\": this._stake.bet,\n            },\n        }).then(function (response) {\n            var data = response.data;\n            return data;\n        });\n    };\n    return Slots;\n}(drawable_1.default(base_1.default)));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Slots;\n\n},{\"../config\":5,\"../mixins/models/drawable\":9,\"../services/http\":14,\"./base\":11}],13:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar base_1 = require(\"./base\");\nvar drawable_1 = require(\"../mixins/models/drawable\");\nvar Stake = (function (_super) {\n    __extends(Stake, _super);\n    function Stake(_symbol, _bet) {\n        _super.call(this);\n        this._symbol = _symbol;\n        this._bet = _bet;\n    }\n    Stake.prototype.isValid = function () {\n        return this._symbol !== null && this._bet !== null;\n    };\n    Object.defineProperty(Stake.prototype, \"symbol\", {\n        get: function () {\n            return this._symbol;\n        },\n        set: function (value) {\n            this._symbol = value;\n            this.draw([\"symbol\"]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stake.prototype, \"bet\", {\n        get: function () {\n            return this._bet;\n        },\n        set: function (value) {\n            this._bet = value;\n            this.draw([\"bet\"]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stake;\n}(drawable_1.default(base_1.default)));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Stake;\n\n},{\"../mixins/models/drawable\":9,\"./base\":11}],14:[function(require,module,exports){\n\"use strict\";\nvar es6_promise_1 = require(\"es6-promise\");\nvar Http = (function () {\n    function Http(baseUrl, contentType) {\n        if (baseUrl === void 0) { baseUrl = \"\"; }\n        if (contentType === void 0) { contentType = \"application/json;charset=UTF-8\"; }\n        this.baseUrl = baseUrl;\n        this.contentType = contentType;\n    }\n    Http.prototype.get = function () {\n        throw \"Unimplemened\";\n    };\n    Http.prototype.post = function (path, data) {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            var xmlhttp = new XMLHttpRequest();\n            xmlhttp.onreadystatechange = function () {\n                if (xmlhttp.readyState === XMLHttpRequest.DONE) {\n                    if (xmlhttp.status === 200) {\n                        try {\n                            resolve(JSON.parse(xmlhttp.responseText));\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    }\n                    else {\n                        reject(xmlhttp);\n                    }\n                }\n            };\n            xmlhttp.open(\"POST\", _this.baseUrl + path, true);\n            xmlhttp.setRequestHeader(\"Content-type\", _this.contentType);\n            xmlhttp.send(JSON.stringify(data));\n        }).catch(function (e) {\n            throw e;\n        });\n    };\n    Http.prototype.put = function () {\n        throw \"Unimplemened\";\n    };\n    Http.prototype.delete = function () {\n        throw \"Unimplemened\";\n    };\n    return Http;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Http;\n\n},{\"es6-promise\":2}],15:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar Boot = (function (_super) {\n    __extends(Boot, _super);\n    function Boot() {\n        _super.apply(this, arguments);\n    }\n    Boot.prototype.init = function () {\n        this.stage.backgroundColor = config_1.basic.STAGE.COLOR;\n    };\n    Boot.prototype.create = function () {\n        var _this = this;\n        var STAGE = config_1.basic.STAGE;\n        this.scale.setGameSize(STAGE.WIDTH, STAGE.HEIGHT);\n        this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.scale.windowConstraints.bottom = \"visual\";\n        this.scale.onSizeChange.addOnce(function () { return _this.game.state.start(\"Preload\"); });\n    };\n    return Boot;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Boot;\n\n},{\"../config\":5}],16:[function(require,module,exports){\n\"use strict\";\nvar boot_1 = require(\"./boot\");\nexports.Boot = boot_1.default;\nvar loadfail_1 = require(\"./loadfail\");\nexports.Loadfail = loadfail_1.default;\nvar preload_1 = require(\"./preload\");\nexports.Preload = preload_1.default;\nvar load_1 = require(\"./load\");\nexports.Load = load_1.default;\nvar tutorial_1 = require(\"./tutorial\");\nexports.Tutorial = tutorial_1.default;\nvar play_1 = require(\"./play\");\nexports.Play = play_1.default;\n\n},{\"./boot\":15,\"./load\":17,\"./loadfail\":18,\"./play\":19,\"./preload\":20,\"./tutorial\":21}],17:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar loadBar_1 = require(\"../components/state/loadBar\");\nvar Load = (function (_super) {\n    __extends(Load, _super);\n    function Load() {\n        _super.apply(this, arguments);\n    }\n    Load.prototype.init = function () {\n        var _this = this;\n        this.loadBar = new loadBar_1.default(this, this.game.myLocale);\n        this.time.events.add(Load.loadBarDebounce, function () { return _this.load.isLoading || config_1.basic.GAME.AUDIO.some(function (_a) {\n            var key = _a.key;\n            return !_this.cache.isSoundDecoded(key);\n        })\n            ? _this.loadBar.processLoading(function () { return _this.start(); })\n            : _this.start(); });\n    };\n    Load.prototype.preload = function () {\n        var _this = this;\n        this.loadBar.onPreloadStart();\n        this.load.atlas(config_1.basic.GAME.ATLAS_SPRITE.key, config_1.basic.GAME.ATLAS_SPRITE.url.texture, config_1.basic.GAME.ATLAS_SPRITE.url.atlas);\n        this.load.atlas(config_1.basic.GAME.CARDS_SPRITE.key, config_1.basic.GAME.CARDS_SPRITE.url.texture, config_1.basic.GAME.CARDS_SPRITE.url.atlas);\n        config_1.basic.GAME.AUDIO.forEach(function (audio) {\n            _this.load.audio(audio.key, audio.urls, true);\n        });\n        this.load.script(\"filter\", \"https://cdn.rawgit.com/photonstorm/phaser/master/filters/CheckerWave.js\");\n    };\n    Load.prototype.create = function () {\n        var _this = this;\n        this.sound.setDecodedCallback(config_1.basic.GAME.AUDIO.map(function (_a) {\n            var key = _a.key;\n            return key;\n        }), function () {\n            _this.loadBar.onPreloadComplete(Load.loadBarDebounce);\n        }, this);\n    };\n    Load.prototype.start = function () {\n        this.game.state.start(\"Tutorial\");\n    };\n    Load.loadBarDebounce = 10;\n    return Load;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Load;\n\n},{\"../components/state/loadBar\":4,\"../config\":5}],18:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar default_1 = (function (_super) {\n    __extends(default_1, _super);\n    function default_1() {\n        _super.apply(this, arguments);\n    }\n    default_1.prototype.init = function () {\n        this.stage.backgroundColor = \"#FF0000\";\n    };\n    return default_1;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = default_1;\n\n},{}],19:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar slots_1 = require(\"../models/slots\");\nvar stake_1 = require(\"../models/stake\");\nvar reel_1 = require(\"../components/reel\");\nvar Play = (function (_super) {\n    __extends(Play, _super);\n    function Play() {\n        _super.apply(this, arguments);\n    }\n    Play.prototype.init = function () {\n        this.reel = new reel_1.default(this.game, config_1.basic.GAME.CARDS_SPRITE.key, config_1.basic.GAME.CARDS_NUMBER, \"MyBlurY\");\n        this.slots = new slots_1.default(new stake_1.default(null, 1));\n    };\n    Play.prototype.create = function () {\n        var _this = this;\n        this.createCards();\n        this.createReel();\n        this.createBetButtons();\n        this.createAudio();\n        this.toggleInput(true);\n        var textStyle = { alight: \"center\", fill: \"#fff\", font: \"80px Arial\", stroke: \"#000\" };\n        var balanceText = this.add.text(this.cardsGroup.centerX, this.cardsGroup.top - 100, \"Balance\", textStyle);\n        balanceText.anchor.set(0.5, 1);\n        var betText = this.add.text(this.cardsGroup.centerX, this.cardsGroup.bottom + 100, null, textStyle);\n        betText.anchor.set(0.5, 0);\n        this.slots.stake.registerDrawer(function (model, changedProps) {\n            changedProps.forEach(function (prop) {\n                switch (prop) {\n                    case \"bet\":\n                        betText.setText(_this.game.myLocale.bet + \": \" + model.bet);\n                        break;\n                    case \"symbol\": {\n                        var frame_1 = config_1.basic.GAME.CARDS_FRAMES_MAP[model.symbol];\n                        _this.cardsGroup.children.forEach(function (card) {\n                            if (card.frame === frame_1) {\n                                card.tint = 0x0000ff;\n                            }\n                            else {\n                                card.tint = 0xffffff;\n                            }\n                        });\n                        break;\n                    }\n                }\n            });\n        });\n        this.slots.registerDrawer(function (model, changedProps) {\n            balanceText.setText(_this.game.myLocale.balance + \": \" + model.balance);\n        });\n        this.slots.draw([\"stake\", \"balance\"]);\n    };\n    Play.prototype.update = function () {\n        this.reel.onUpdate();\n    };\n    Play.prototype.createCards = function () {\n        var _this = this;\n        this.cardsGroup = this.add.group();\n        this.cardsGroup.inputEnableChildren = true;\n        for (var i = 0; i < config_1.basic.GAME.CARDS_NUMBER; i++) {\n            var b = this.add.button(50 + 128, this.world.centerY, config_1.basic.GAME.CARDS_SPRITE.key);\n            b.frame = i;\n            b.anchor.set(0, 0.5);\n            b.x += (b.width + 50) * i;\n            this.cardsGroup.add(b);\n        }\n        this.cardsGroup.onChildInputOver.add(function (b) {\n            b.tint = 0xff00ff;\n        });\n        this.cardsGroup.onChildInputOut.add(function (b) {\n            b.tint = 0xffffff;\n        });\n        this.cardsGroup.onChildInputDown.add(function (b) {\n            b.tint = 0x0000ff;\n        });\n        this.cardsGroup.onChildInputUp.add(function (b) {\n            b.tint = 0xffffff;\n            _this.onCardClick(b);\n        });\n    };\n    Play.prototype.createReel = function () {\n        var reelWindow = this.add.graphics(this.world.width - 384 - 50, this.world.height / 2 - 128);\n        reelWindow.beginFill(0xffffff);\n        reelWindow.drawRect(0, 0, 256, 256);\n        reelWindow.alpha = 0;\n        this.reel.create(this.world.width - 384 - 50, this.world.height / 2 - 128, reelWindow, 300);\n    };\n    Play.prototype.createBetButtons = function () {\n        var _this = this;\n        this.decrementBtn = this.add.button(this.cardsGroup.centerX - 200, this.cardsGroup.bottom + 80, config_1.basic.GAME.ATLAS_SPRITE.key, function () {\n            if (_this.slots.stake.bet !== config_1.basic.GAME.BET_RANGE[0]) {\n                _this.slots.stake.bet--;\n                _this.toggleBetInput(true);\n            }\n        });\n        this.decrementBtn.anchor.set(0.5, 0);\n        this.decrementBtn.frameName = \"minus-icon.png\";\n        this.incrementBtn = this.add.button(this.cardsGroup.centerX + 200, this.cardsGroup.bottom + 80, config_1.basic.GAME.ATLAS_SPRITE.key, function () {\n            if (_this.slots.stake.bet !== config_1.basic.GAME.BET_RANGE[1]) {\n                _this.slots.stake.bet++;\n                _this.toggleBetInput(true);\n            }\n        });\n        this.incrementBtn.anchor.set(0.5, 0);\n        this.incrementBtn.frameName = \"plus-icon.png\";\n    };\n    Play.prototype.createAudio = function () {\n        this.reelAudio = this.add.audio(config_1.basic.GAME.AUDIO_KEY.REEL);\n        this.bigwinAudio = this.add.audio(config_1.basic.GAME.AUDIO_KEY.BIG_WIN);\n        this.regwinAudio = this.add.audio(config_1.basic.GAME.AUDIO_KEY.REG_WIN);\n    };\n    Play.prototype.onCardClick = function (card) {\n        var _this = this;\n        try {\n            this.reel.start(1000 + Math.random() * 500, 0.5);\n            this.reelAudio.fadeIn(1000);\n            this.reelAudio.loopFull();\n        }\n        catch (e) {\n            ;\n        }\n        this.slots.stake.symbol = this.getFrameSymbol(card.frame);\n        this.slots.spin().then(function (data) {\n            var frame = config_1.basic.GAME.CARDS_FRAMES_MAP[data.spinResult[2]];\n            try {\n                _this.reel.stop(frame).then(function () {\n                    var onComplete = function () {\n                        _this.toggleInput(true);\n                        _this.slots.stake.symbol = null;\n                        _this.slots.balance += data.totalWin;\n                    };\n                    if (data.winType !== config_1.basic.GAME.WIN_TYPE.NONE) {\n                        var item_1 = _this.reel.getTopVisibleItem();\n                        var mask_1 = item_1.mask;\n                        item_1.mask = null;\n                        item_1.anchor.set(0.5);\n                        item_1.x += item_1.width / 2;\n                        item_1.y += item_1.height / 2;\n                        _this.add.tween(item_1.scale).to({ x: 2, y: 2 }, 750, Phaser.Easing.Cubic.InOut, true, 0, 1, true)\n                            .onComplete.add(function () {\n                            onComplete();\n                            item_1.mask = mask_1;\n                            item_1.anchor.set(0);\n                            item_1.x -= item_1.width / 2;\n                            item_1.y -= item_1.height / 2;\n                        });\n                        if (data.winType === config_1.basic.GAME.WIN_TYPE.BIG) {\n                            _this.animateBigWin(data.totalWin, 2000, 500);\n                        }\n                        else {\n                            _this.animateRegWin(data.totalWin, 3000);\n                        }\n                    }\n                    else {\n                        onComplete();\n                    }\n                });\n                _this.reelAudio.fadeOut(1000);\n            }\n            catch (e) {\n                ;\n            }\n        }).catch(function (error) {\n            _this.reel.stop(-1).then(function () { return _this.toggleInput(true); });\n            _this.reelAudio.stop();\n            alert(\"Server error occurred. Please try again.\");\n        });\n        this.toggleInput(false);\n    };\n    Play.prototype.getFrameSymbol = function (frameNumber) {\n        var map = config_1.basic.GAME.CARDS_FRAMES_MAP;\n        var symbols = Object.keys(map);\n        for (var i = 0; i < symbols.length; i++) {\n            if (map[symbols[i]] === frameNumber) {\n                return symbols[i];\n            }\n        }\n        throw new Error(\"Unknown frame\");\n    };\n    Play.prototype.toggleInput = function (enabled) {\n        this.cardsGroup.forEach(function (b) {\n            b.inputEnabled = enabled;\n            if (enabled) {\n                b.input.useHandCursor = true;\n            }\n        }, this);\n        this.cardsGroup.alpha = enabled ? 1 : .5;\n        this.toggleBetInput(enabled);\n    };\n    Play.prototype.toggleBetInput = function (enabled) {\n        var decEnabled = this.slots.stake.bet === config_1.basic.GAME.BET_RANGE[0] ? false : enabled;\n        var incEnabled = this.slots.stake.bet === config_1.basic.GAME.BET_RANGE[1] ? false : enabled;\n        this.decrementBtn.inputEnabled = decEnabled;\n        this.decrementBtn.alpha = decEnabled ? 1 : .5;\n        if (decEnabled) {\n            this.decrementBtn.input.useHandCursor = true;\n        }\n        this.incrementBtn.inputEnabled = incEnabled;\n        this.incrementBtn.alpha = incEnabled ? 1 : .5;\n        if (incEnabled) {\n            this.incrementBtn.input.useHandCursor = true;\n        }\n    };\n    Play.prototype.animateBigWin = function (totalWin, duration, delay) {\n        var _this = this;\n        var win = { count: 1 };\n        var winText = this.add.text(this.world.centerX, this.world.centerY, win.count.toString(), {\n            alight: \"center\",\n            fill: \"#fff\",\n            font: \"200px Arial\",\n            stroke: \"#000\",\n        });\n        duration = Math.max(500, duration);\n        winText.anchor.set(0.5);\n        this.bigwinAudio.fadeIn(500);\n        this.add.tween(winText.scale).to({ x: 3, y: 3 }, duration, Phaser.Easing.Quadratic.In, true, delay);\n        this.add.tween(win).to({ count: totalWin }, duration, Phaser.Easing.Quadratic.In, true, delay)\n            .onUpdateCallback(function () { return winText.setText(win.count.toFixed(0)); })\n            .onComplete.addOnce(function () {\n            _this.time.events.add(500, function () { return winText.destroy(); });\n            _this.bigwinAudio.fadeOut(500);\n        });\n    };\n    Play.prototype.animateRegWin = function (totalWin, duration) {\n        var _this = this;\n        this.regwinAudio.fadeIn(500);\n        this.time.events.add(Math.max(500, duration), function () { return _this.regwinAudio.fadeOut(500); });\n    };\n    return Play;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Play;\n\n},{\"../components/reel\":3,\"../config\":5,\"../models/slots\":12,\"../models/stake\":13}],20:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar preloadingAnimated_1 = require(\"../mixins/states/preloadingAnimated\");\nvar Boot = (function (_super) {\n    __extends(Boot, _super);\n    function Boot() {\n        _super.apply(this, arguments);\n    }\n    Boot.prototype.create = function () {\n        _super.prototype.create.call(this);\n        this.startPreLoading();\n    };\n    Boot.prototype.startPreLoading = function () {\n        _super.prototype.startPreLoading.call(this);\n        this.load.json(\"config\", config_1.basic.API_BASE + config_1.basic.CONFIG_PATH);\n        this.load.onFileComplete.add(this.onFileComplete, this);\n        this.load.onLoadComplete.addOnce(this.onPreLoadComplete, this);\n        this.load.start();\n    };\n    Boot.prototype.onFileComplete = function (progress, key, success) {\n        if (success) {\n            switch (key) {\n                case \"config\":\n                    {\n                        this.game.myConfig = this.cache.getJSON(\"config\");\n                        var _a = this.game.myConfig, localePath = _a.localePath, locale = _a.locale;\n                        this.load.json(\"locale\", config_1.basic.API_BASE + localePath + locale + \".json\");\n                    }\n                    break;\n            }\n        }\n        else {\n            this.load.onFileComplete.remove(this.onFileComplete, this);\n            this.game.state.start(\"Loadfail\");\n        }\n    };\n    Boot.prototype.onPreLoadComplete = function () {\n        var _this = this;\n        _super.prototype.onPreLoadComplete.call(this, function () { return _this.game.state.start(\"Load\"); });\n        this.game.myLocale = this.cache.getJSON(\"locale\");\n    };\n    return Boot;\n}(preloadingAnimated_1.default(Phaser.State)));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Boot;\n\n},{\"../config\":5,\"../mixins/states/preloadingAnimated\":10}],21:[function(require,module,exports){\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Tutorial = (function (_super) {\n    __extends(Tutorial, _super);\n    function Tutorial() {\n        _super.apply(this, arguments);\n    }\n    Tutorial.prototype.create = function () {\n        this.initControls();\n        this.wavesFilter = this.add.filter(\"CheckerWave\", this.world.width, this.world.height);\n        var background = this.add.sprite(0, 0);\n        background.width = this.world.width;\n        background.height = this.world.height;\n        background.filters = [this.wavesFilter];\n        var textStyle = { alight: \"center\", fill: \"#fff\", font: \"100px Arial\", stroke: \"#000\" };\n        var title = this.game.add.text(this.game.world.centerX, this.game.world.centerY - 100, this.game.myLocale.gameTitle, textStyle);\n        title.anchor.set(0.5);\n        textStyle.font = \"48px Arial\";\n        var instructions = this.game.add.text(this.game.world.centerX, this.game.world.centerY, this.game.myLocale.gameInstructions, textStyle);\n        instructions.anchor.set(0.5);\n    };\n    Tutorial.prototype.update = function () {\n        this.wavesFilter.update();\n    };\n    Tutorial.prototype.initControls = function () {\n        var _this = this;\n        this.game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR).onDown.addOnce(function () { return _this.game.state.start(\"Play\"); });\n    };\n    return Tutorial;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Tutorial;\n\n},{}]},{},[8])(8)\n});\n\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nrequire(\"../filters/myBlurY\");\nvar es6_promise_1 = require(\"es6-promise\");\nvar ReelException = {\n    AlreadyStarted: (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            _super.apply(this, arguments);\n            this.name = \"AlreadyStartedException\";\n        }\n        return class_1;\n    }(Error)),\n    AlreadyStopped: (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            _super.apply(this, arguments);\n            this.name = \"AlreadyStoppedException\";\n        }\n        return class_2;\n    }(Error)),\n    UnsopportedAccelarationPower: (function (_super) {\n        __extends(class_3, _super);\n        function class_3() {\n            _super.apply(this, arguments);\n            this.name = \"UnsopportedAccelarationPowerException\";\n        }\n        return class_3;\n    }(Error)),\n};\nvar ReelItem = (function (_super) {\n    __extends(ReelItem, _super);\n    function ReelItem() {\n        _super.apply(this, arguments);\n    }\n    return ReelItem;\n}(Phaser.Sprite));\nvar Reel = (function () {\n    function Reel(game, spriteName, framesNumber, blurFilterId, maxBlurValue) {\n        if (maxBlurValue === void 0) { maxBlurValue = 15; }\n        this.game = game;\n        this.spriteName = spriteName;\n        this.framesNumber = framesNumber;\n        this.blurFilterId = blurFilterId;\n        this.maxBlurValue = maxBlurValue;\n        this.items = [];\n        this.isStarting = false;\n        this.isStarted = false;\n        this.isStopping = false;\n        this.velocity = 0;\n    }\n    Object.defineProperty(Reel.prototype, \"isRunning\", {\n        get: function () {\n            return this.isStarting || this.isStarted || this.isStopping;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Reel.prototype.create = function (baseX, baseY, window, offset, stopYOffset, itemsNumber) {\n        if (stopYOffset === void 0) { stopYOffset = 0; }\n        if (itemsNumber === void 0) { itemsNumber = 3; }\n        this.baseX = baseX;\n        this.baseY = baseY;\n        this.stopYOffset = stopYOffset;\n        this.y = baseY + stopYOffset;\n        this.window = window;\n        this.offset = offset;\n        this.blurFilter = this.game.add.filter(this.blurFilterId);\n        this.blurFilter.blur = 0;\n        this.blurFilter.padding = 10;\n        for (var i = 0; i < itemsNumber; i++) {\n            var dy = offset * i;\n            var item = new ReelItem(this.game, this.baseX, this.y - dy, this.spriteName);\n            item.offset = dy;\n            item.mask = window;\n            item.filters = [this.blurFilter];\n            item.frame = this.getRandomFrame();\n            this.game.add.existing(item);\n            this.items.push(item);\n        }\n        return this;\n    };\n    Reel.prototype.start = function (pixelsPerSecond, accelerationSeconds, accelarationPower) {\n        var _this = this;\n        if (pixelsPerSecond === void 0) { pixelsPerSecond = 1000; }\n        if (accelerationSeconds === void 0) { accelerationSeconds = 1; }\n        if (accelarationPower === void 0) { accelarationPower = 4; }\n        if (!this.isRunning) {\n            var Easing_1 = (function (p) {\n                switch (p) {\n                    case 2: return Phaser.Easing.Quadratic;\n                    case 3: return Phaser.Easing.Cubic;\n                    case 4: return Phaser.Easing.Quartic;\n                    case 5: return Phaser.Easing.Quintic;\n                }\n                throw new ReelException.UnsopportedAccelarationPower(\"Unsopported accelaration power passed. Supported: [2, 3, 4, 5]\");\n            })(accelarationPower);\n            var dS = pixelsPerSecond / Phaser.Timer.SECOND;\n            var duration = accelerationSeconds * Phaser.Timer.SECOND;\n            var c_1 = dS / (1 - Math.pow((duration - 1) / duration, accelarationPower));\n            var lastY_1 = this.y;\n            this.lastUpdateTime = this.game.time.now;\n            this.isStarting = true;\n            this.startPromise = new es6_promise_1.Promise(function (resolve) {\n                _this.game.add.tween(_this)\n                    .to({ y: _this.y + c_1 }, Phaser.Timer.SECOND * accelerationSeconds, Easing_1.In, true)\n                    .onUpdateCallback(function (tween, percent) {\n                    var diffY = _this.y - lastY_1;\n                    lastY_1 = _this.y;\n                    _this.update(percent * _this.maxBlurValue);\n                    _this.velocity = diffY / (_this.game.time.now - _this.lastUpdateTime) * Phaser.Timer.SECOND;\n                    _this.lastUpdateTime = _this.game.time.now;\n                })\n                    .onComplete.addOnce(function () {\n                    _this.startPromise = null;\n                    _this.isStarting = false;\n                    _this.isStarted = true;\n                    _this.velocity = pixelsPerSecond;\n                    _this.lastUpdateTime = _this.game.time.now;\n                    resolve();\n                });\n            });\n            return this.startPromise;\n        }\n        throw new ReelException.AlreadyStarted(\"Start method was already called\");\n    };\n    Reel.prototype.stop = function (finalFrameNumber) {\n        var _this = this;\n        if (this.isStarted && !this.isStopping) {\n            this.isStopping = true;\n            this.isStarted = false;\n            this.isStarting = false;\n            this.update();\n            var stopItem_1 = this.items[0];\n            this.items.forEach(function (item) {\n                if (item.offset > stopItem_1.offset) {\n                    stopItem_1 = item;\n                }\n            });\n            stopItem_1.frame = finalFrameNumber;\n            var dy = this.baseY - (this.y - stopItem_1.offset) + this.stopYOffset;\n            var pullY_1 = dy - stopItem_1.height;\n            return new es6_promise_1.Promise(function (resolve) {\n                _this.game.add.tween(_this)\n                    .to({ y: _this.y + pullY_1 }, pullY_1 / _this.velocity * Phaser.Timer.SECOND, Phaser.Easing.Linear.None, true)\n                    .onUpdateCallback(function () { return _this.update(); })\n                    .onComplete.addOnce(function () {\n                    _this.game.add.tween(_this)\n                        .to({ y: _this.y + stopItem_1.height }, stopItem_1.height / _this.velocity * Phaser.Timer.SECOND * 10, Phaser.Easing.Elastic.Out, true)\n                        .onUpdateCallback(function (tween, percent) {\n                        _this.update((1 - percent) * _this.maxBlurValue);\n                    })\n                        .onComplete.addOnce(function () {\n                        _this.isStopping = false;\n                        resolve();\n                    });\n                });\n            });\n        }\n        else if (this.isStarting) {\n            return this.startPromise.then(function () { return _this.stop(finalFrameNumber); });\n        }\n        throw new ReelException.AlreadyStopped(\"Stop method was already called\");\n    };\n    Reel.prototype.onUpdate = function () {\n        if (this.isStarted) {\n            this.y += this.velocity * (this.game.time.now - this.lastUpdateTime) / Phaser.Timer.SECOND;\n            this.lastUpdateTime = this.game.time.now;\n            this.update(void (0), true);\n        }\n    };\n    Reel.prototype.getTopVisibleItem = function () {\n        var _this = this;\n        var visibleItems = this.items\n            .filter(function (item) { return item.y >= _this.baseY + _this.stopYOffset; })\n            .sort(function (a, b) { return a.y - b.y; });\n        return visibleItems.length ? visibleItems[0] : null;\n    };\n    Reel.prototype.update = function (blur, reset) {\n        var _this = this;\n        if (reset === void 0) { reset = false; }\n        var deadlineY = this.window.y + this.window.height;\n        var count = this.items.length;\n        this.items.forEach(function (item, i) {\n            var itemOffset = item.offset;\n            var itemY = _this.y - itemOffset;\n            if (itemY > deadlineY) {\n                var gap = itemY - deadlineY;\n                var ajustment = count * _this.offset;\n                itemOffset += ajustment * Math.ceil(gap / ajustment);\n                itemY = _this.y - itemOffset;\n                item.frame = _this.getRandomFrame();\n            }\n            if (reset) {\n                itemOffset -= _this.y;\n                itemY = -itemOffset;\n            }\n            item.y = itemY;\n            item.offset = itemOffset;\n        });\n        if (reset) {\n            this.y = 0;\n        }\n        if (blur !== undefined && blur !== this.blurFilter.blur) {\n            this.blurFilter.blur = blur;\n        }\n    };\n    Reel.prototype.getRandomFrame = function () {\n        return Math.round(Math.random() * (this.framesNumber - 1));\n    };\n    Reel.Exception = ReelException;\n    return Reel;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Reel;\n","\"use strict\";\nvar StateLoadBar = (function () {\n    function StateLoadBar(state, dictionary, animationMinTime) {\n        if (animationMinTime === void 0) { animationMinTime = 2000 + Math.random() * 3000; }\n        this.state = state;\n        this.dictionary = dictionary;\n        this.animationMinTime = animationMinTime;\n        this.stateLoaded = false;\n    }\n    StateLoadBar.prototype.onPreloadStart = function () {\n        this.preloadingStartTime = this.state.time.now;\n    };\n    StateLoadBar.prototype.onPreloadComplete = function (loadingDebounce) {\n        var _this = this;\n        if (loadingDebounce === void 0) { loadingDebounce = 0; }\n        var loadTime = this.state.time.now - this.preloadingStartTime;\n        this.state.time.events.add(loadTime > loadingDebounce + this.animationMinTime ? 0 : this.animationMinTime - loadTime + loadingDebounce, function () { return _this.stateLoaded = true; });\n    };\n    StateLoadBar.prototype.processLoading = function (onComplete) {\n        var _this = this;\n        var tweenInterval = [0, 0.9];\n        var loadBar = this.state.add.graphics(0, this.state.game.height - 50)\n            .lineStyle(5, 0xffffff, 1)\n            .moveTo(0, 0)\n            .lineTo(this.state.game.width, 0);\n        loadBar.scale.x = tweenInterval[0];\n        var loadText = this.state.game.add.text(this.state.world.centerX, this.state.game.height - 100, this.dictionary.loading, {\n            alight: \"center\",\n            fill: \"#FFF\",\n            font: \"45px Arial\",\n            stroke: \"#FFF\",\n        });\n        loadText.anchor.set(0.5);\n        var progressTween = this.state.add.tween(loadBar.scale)\n            .to({ x: tweenInterval[1] }, 3000, Phaser.Easing.Quadratic.InOut, true)\n            .onUpdateCallback(function () {\n            if (_this.stateLoaded) {\n                var fadeOutTween = _this.state.add.tween((function (g) { return g.addMultiple([loadBar, loadText]) && g; })(_this.state.add.group()))\n                    .to({ alpha: 0 }, 500);\n                progressTween.stop();\n                _this.state.add.tween(loadBar.scale)\n                    .to({ x: 1 }, 500, Phaser.Easing.Quadratic.In, true)\n                    .chain(fadeOutTween);\n                fadeOutTween.delay(500).onComplete.add(onComplete);\n            }\n            else if (loadBar.scale.x > tweenInterval[0] + (tweenInterval[1] - tweenInterval[0]) / 2) {\n                tweenInterval[0] = loadBar.scale.x;\n                progressTween.timeScale /= 2;\n            }\n        });\n    };\n    return StateLoadBar;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StateLoadBar;\n","\"use strict\";\n;\nvar AUDIO_KEY = {\n    BIG_WIN: \"bigwin\",\n    REEL: \"reel\",\n    REG_WIN: \"regwin\",\n};\nvar basic = {\n    API_BASE: \"http://artemplatonov.com/phasering/\",\n    BOOTSTRAP_STATE: \"Boot\",\n    CONFIG_PATH: \"config.json\",\n    GAME: {\n        ATLAS_SPRITE: {\n            key: \"atlas\",\n            url: {\n                atlas: \"./assets/sprites/atlas.json\",\n                texture: \"./assets/sprites/atlas.png\",\n            },\n        },\n        AUDIO: [\n            { key: AUDIO_KEY.REEL, urls: [\"./assets/audio/reel.mp3\"] },\n            { key: AUDIO_KEY.BIG_WIN, urls: [\"./assets/audio/bigwin.mp3\"] },\n            { key: AUDIO_KEY.REG_WIN, urls: [\"./assets/audio/regwin.mp3\"] },\n        ],\n        AUDIO_KEY: AUDIO_KEY,\n        BET_RANGE: [1, 5],\n        CARDS_FRAMES_MAP: {\n            J: 0,\n            K: 1,\n            Q: 2,\n            T: 3,\n        },\n        CARDS_NUMBER: 4,\n        CARDS_SPRITE: {\n            key: \"letters\",\n            url: {\n                atlas: \"./assets/sprites/letters.json\",\n                texture: \"./assets/sprites/letters.png\",\n            },\n        },\n        INITIAL_BALANCE: 1000,\n        WIN_TYPE: {\n            BIG: \"bigWin\",\n            NONE: \"none\",\n            REGULAR: \"regular\",\n        },\n    },\n    STAGE: {\n        COLOR: 0x182d3b,\n        CONTAINER: \"game-canvas\",\n        HEIGHT: 1536,\n        WIDTH: 2048,\n    },\n};\nexports.basic = basic;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar MyBlurY = (function (_super) {\n    __extends(MyBlurY, _super);\n    function MyBlurY(game, uniforms, fragmentSrc) {\n        _super.call(this, game, uniforms, fragmentSrc);\n        this.uniforms.blur = { type: \"1f\", value: 1 / 512 };\n        this.fragmentSrc = [\n            \"precision mediump float;\",\n            \"varying vec2 vTextureCoord;\",\n            \"varying vec4 vColor;\",\n            \"uniform float blur;\",\n            \"uniform sampler2D uSampler;\",\n            \"void main(void) {\",\n            \"vec4 sum = vec4(0.0);\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;\",\n            \"sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;\",\n            \"gl_FragColor = sum;\",\n            \"}\",\n        ];\n    }\n    Object.defineProperty(MyBlurY.prototype, \"blur\", {\n        get: function () {\n            return this.uniforms.blur.value / (1 / 7000);\n        },\n        set: function (value) {\n            this.dirty = true;\n            this.uniforms.blur.value = (1 / 7000) * value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MyBlurY;\n}(Phaser.Filter));\nPhaser.Filter.MyBlurY = MyBlurY;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = MyBlurY;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config = require(\"./config\");\nvar states = require(\"./states/\");\nvar Game = (function (_super) {\n    __extends(Game, _super);\n    function Game() {\n        var _this = this;\n        _super.call(this, 0, 0, Phaser.AUTO, config.basic.STAGE.CONTAINER, null);\n        Object.keys(states).forEach(function (state) { return _this.state.add(state, states[state]); });\n        this.state.start(config.basic.BOOTSTRAP_STATE);\n    }\n    return Game;\n}(Phaser.Game));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Game;\n","\"use strict\";\nvar game_1 = require(\"./game\");\nnew game_1.default();\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Drawable = function (superclass) { return (function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n        _super.apply(this, arguments);\n        this.drawers = [];\n    }\n    class_1.prototype.draw = function (props) {\n        var _this = this;\n        this.drawers.forEach(function (drawer) { return drawer(_this, props); });\n    };\n    class_1.prototype.registerDrawer = function (drawer) {\n        this.drawers.push(drawer);\n    };\n    return class_1;\n}(superclass)); };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Drawable;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = function (superclass) { return (function (_super) {\n    __extends(PreloadingAnimated, _super);\n    function PreloadingAnimated() {\n        _super.apply(this, arguments);\n        this.isPreloaded = false;\n        this.animationMinTime = 3000;\n        this.circleParams = {\n            color1: 0xffff00,\n            color2: 0xff0000,\n            color3: 0x0000ff,\n            diameter: 50,\n            distance: 200,\n            opacity: 1,\n        };\n    }\n    PreloadingAnimated.prototype.startPreLoading = function () {\n        this.preloadingStartTime = this.time.now;\n    };\n    PreloadingAnimated.prototype.onPreLoadComplete = function (onComplete) {\n        var _this = this;\n        var loadTime = this.time.now - this.preloadingStartTime;\n        setTimeout(function () {\n            _this.finishAnimation(onComplete);\n        }, loadTime > this.animationMinTime ? 0 : this.animationMinTime - loadTime);\n    };\n    PreloadingAnimated.prototype.finishAnimation = function (onComplete) {\n        var fadeOutTime = 2000;\n        this.isPreloaded = true;\n        this.add.tween(this.p1)\n            .to({ x: this.p0.x, y: this.p0.y }, fadeOutTime, Phaser.Easing.Exponential.Out, true);\n        this.add.tween(this.p2)\n            .to({ x: this.p0.x, y: this.p0.y }, fadeOutTime, Phaser.Easing.Exponential.Out, true);\n        this.add.tween(this.p3)\n            .to({ x: this.p0.x, y: this.p0.y }, fadeOutTime, Phaser.Easing.Exponential.Out, true);\n        this.add.tween(this.circleParams)\n            .to({ opacity: 0 }, fadeOutTime, Phaser.Easing.Exponential.In, true)\n            .onComplete.add(onComplete);\n    };\n    PreloadingAnimated.prototype.create = function () {\n        _super.prototype.create.call(this);\n        this.p0 = new Phaser.Point(this.world.centerX, this.world.centerY);\n        this.p1 = new Phaser.Point(this.p0.x + this.circleParams.distance, this.p0.y);\n        this.p2 = new Phaser.Point(this.p0.x + this.circleParams.distance, this.p0.y);\n        this.p3 = new Phaser.Point(this.p0.x + this.circleParams.distance, this.p0.y);\n        this.p1.rotate(this.p0.x, this.p0.y, 30, true);\n        this.p2.rotate(this.p0.x, this.p0.y, 150, true);\n        this.p3.rotate(this.p0.x, this.p0.y, 270, true);\n        this.graphics1 = this.add.graphics(this.p1.x, this.p1.y);\n        this.graphics1.beginFill(this.circleParams.color1);\n        this.graphics1.drawCircle(0, 0, this.circleParams.diameter);\n        this.graphics1.endFill();\n        this.graphics2 = this.add.graphics(this.p2.x, this.p2.y);\n        this.graphics2.beginFill(this.circleParams.color2);\n        this.graphics2.drawCircle(0, 0, this.circleParams.diameter);\n        this.graphics2.endFill();\n        this.graphics3 = this.add.graphics(this.p3.x, this.p3.y);\n        this.graphics3.beginFill(this.circleParams.color3);\n        this.graphics3.drawCircle(0, 0, this.circleParams.diameter);\n        this.graphics3.endFill();\n    };\n    PreloadingAnimated.prototype.update = function () {\n        _super.prototype.update.call(this);\n        if (this.isPreloaded) {\n            this.graphics1.clear();\n            this.graphics1.beginFill(this.circleParams.color1, this.circleParams.opacity);\n            this.graphics1.drawCircle(0, 0, this.circleParams.diameter);\n            this.graphics1.endFill();\n            this.graphics2.clear();\n            this.graphics2.beginFill(this.circleParams.color2, this.circleParams.opacity);\n            this.graphics2.drawCircle(0, 0, this.circleParams.diameter);\n            this.graphics2.endFill();\n            this.graphics3.clear();\n            this.graphics3.beginFill(this.circleParams.color3, this.circleParams.opacity);\n            this.graphics3.drawCircle(0, 0, this.circleParams.diameter);\n            this.graphics3.endFill();\n        }\n        else {\n            var scale1 = 1 + Math.abs(Math.sin(this.p1.angle(this.p0)));\n            var scale2 = 1 + Math.abs(Math.sin(this.p2.angle(this.p0)));\n            var scale3 = 1 + Math.abs(Math.sin(this.p3.angle(this.p0)));\n            var angle = 4;\n            this.p1.rotate(this.p0.x, this.p0.y, angle, true);\n            this.p2.rotate(this.p0.x, this.p0.y, angle, true);\n            this.p3.rotate(this.p0.x, this.p0.y, angle, true);\n            this.graphics1.scale.set(scale1, scale1);\n            this.graphics2.scale.set(scale2, scale2);\n            this.graphics3.scale.set(scale3, scale3);\n        }\n        this.graphics1.x = this.p2.x;\n        this.graphics1.y = this.p1.y;\n        this.graphics2.x = this.p1.x;\n        this.graphics2.y = this.p2.y;\n        this.graphics3.x = (this.p1.x + this.p2.x) / 2;\n        this.graphics3.y = this.p3.y;\n    };\n    return PreloadingAnimated;\n}(superclass)); };\n","\"use strict\";\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Base;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar base_1 = require(\"./base\");\nvar drawable_1 = require(\"../mixins/models/drawable\");\nvar http_1 = require(\"../services/http\");\nvar Slots = (function (_super) {\n    __extends(Slots, _super);\n    function Slots(_stake, _balance) {\n        if (_balance === void 0) { _balance = 1000; }\n        _super.call(this);\n        this._stake = _stake;\n        this._balance = _balance;\n        this.http = new http_1.default(config_1.basic.API_BASE);\n    }\n    Object.defineProperty(Slots.prototype, \"stake\", {\n        get: function () {\n            return this._stake;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Slots.prototype, \"balance\", {\n        get: function () {\n            return this._balance;\n        },\n        set: function (value) {\n            this._balance = value;\n            this.draw([\"balance\"]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Slots.prototype.draw = function (props) {\n        _super.prototype.draw.call(this, props);\n        if (props.indexOf(\"stake\") !== -1) {\n            this._stake.draw([\"symbol\", \"bet\"]);\n        }\n    };\n    Slots.prototype.spin = function () {\n        this.balance -= this._stake.bet;\n        return this.http.post(\"action.php\", {\n            action: \"SpinRequest\",\n            data: {\n                \"symbol\": this._stake.symbol,\n                \"bet\": this._stake.bet,\n            },\n        }).then(function (response) {\n            var data = response.data;\n            return data;\n        });\n    };\n    return Slots;\n}(drawable_1.default(base_1.default)));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Slots;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar base_1 = require(\"./base\");\nvar drawable_1 = require(\"../mixins/models/drawable\");\nvar Stake = (function (_super) {\n    __extends(Stake, _super);\n    function Stake(_symbol, _bet) {\n        _super.call(this);\n        this._symbol = _symbol;\n        this._bet = _bet;\n    }\n    Stake.prototype.isValid = function () {\n        return this._symbol !== null && this._bet !== null;\n    };\n    Object.defineProperty(Stake.prototype, \"symbol\", {\n        get: function () {\n            return this._symbol;\n        },\n        set: function (value) {\n            this._symbol = value;\n            this.draw([\"symbol\"]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stake.prototype, \"bet\", {\n        get: function () {\n            return this._bet;\n        },\n        set: function (value) {\n            this._bet = value;\n            this.draw([\"bet\"]);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stake;\n}(drawable_1.default(base_1.default)));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Stake;\n","\"use strict\";\nvar es6_promise_1 = require(\"es6-promise\");\nvar Http = (function () {\n    function Http(baseUrl, contentType) {\n        if (baseUrl === void 0) { baseUrl = \"\"; }\n        if (contentType === void 0) { contentType = \"application/json;charset=UTF-8\"; }\n        this.baseUrl = baseUrl;\n        this.contentType = contentType;\n    }\n    Http.prototype.get = function () {\n        throw \"Unimplemened\";\n    };\n    Http.prototype.post = function (path, data) {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            var xmlhttp = new XMLHttpRequest();\n            xmlhttp.onreadystatechange = function () {\n                if (xmlhttp.readyState === XMLHttpRequest.DONE) {\n                    if (xmlhttp.status === 200) {\n                        try {\n                            resolve(JSON.parse(xmlhttp.responseText));\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    }\n                    else {\n                        reject(xmlhttp);\n                    }\n                }\n            };\n            xmlhttp.open(\"POST\", _this.baseUrl + path, true);\n            xmlhttp.setRequestHeader(\"Content-type\", _this.contentType);\n            xmlhttp.send(JSON.stringify(data));\n        }).catch(function (e) {\n            throw e;\n        });\n    };\n    Http.prototype.put = function () {\n        throw \"Unimplemened\";\n    };\n    Http.prototype.delete = function () {\n        throw \"Unimplemened\";\n    };\n    return Http;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Http;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar Boot = (function (_super) {\n    __extends(Boot, _super);\n    function Boot() {\n        _super.apply(this, arguments);\n    }\n    Boot.prototype.init = function () {\n        this.stage.backgroundColor = config_1.basic.STAGE.COLOR;\n    };\n    Boot.prototype.create = function () {\n        var _this = this;\n        var STAGE = config_1.basic.STAGE;\n        this.scale.setGameSize(STAGE.WIDTH, STAGE.HEIGHT);\n        this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.scale.windowConstraints.bottom = \"visual\";\n        this.scale.onSizeChange.addOnce(function () { return _this.game.state.start(\"Preload\"); });\n    };\n    return Boot;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Boot;\n","\"use strict\";\nvar boot_1 = require(\"./boot\");\nexports.Boot = boot_1.default;\nvar loadfail_1 = require(\"./loadfail\");\nexports.Loadfail = loadfail_1.default;\nvar preload_1 = require(\"./preload\");\nexports.Preload = preload_1.default;\nvar load_1 = require(\"./load\");\nexports.Load = load_1.default;\nvar tutorial_1 = require(\"./tutorial\");\nexports.Tutorial = tutorial_1.default;\nvar play_1 = require(\"./play\");\nexports.Play = play_1.default;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar loadBar_1 = require(\"../components/state/loadBar\");\nvar Load = (function (_super) {\n    __extends(Load, _super);\n    function Load() {\n        _super.apply(this, arguments);\n    }\n    Load.prototype.init = function () {\n        var _this = this;\n        this.loadBar = new loadBar_1.default(this, this.game.myLocale);\n        this.time.events.add(Load.loadBarDebounce, function () { return _this.load.isLoading || config_1.basic.GAME.AUDIO.some(function (_a) {\n            var key = _a.key;\n            return !_this.cache.isSoundDecoded(key);\n        })\n            ? _this.loadBar.processLoading(function () { return _this.start(); })\n            : _this.start(); });\n    };\n    Load.prototype.preload = function () {\n        var _this = this;\n        this.loadBar.onPreloadStart();\n        this.load.atlas(config_1.basic.GAME.ATLAS_SPRITE.key, config_1.basic.GAME.ATLAS_SPRITE.url.texture, config_1.basic.GAME.ATLAS_SPRITE.url.atlas);\n        this.load.atlas(config_1.basic.GAME.CARDS_SPRITE.key, config_1.basic.GAME.CARDS_SPRITE.url.texture, config_1.basic.GAME.CARDS_SPRITE.url.atlas);\n        config_1.basic.GAME.AUDIO.forEach(function (audio) {\n            _this.load.audio(audio.key, audio.urls, true);\n        });\n        this.load.script(\"filter\", \"https://cdn.rawgit.com/photonstorm/phaser/master/filters/CheckerWave.js\");\n    };\n    Load.prototype.create = function () {\n        var _this = this;\n        this.sound.setDecodedCallback(config_1.basic.GAME.AUDIO.map(function (_a) {\n            var key = _a.key;\n            return key;\n        }), function () {\n            _this.loadBar.onPreloadComplete(Load.loadBarDebounce);\n        }, this);\n    };\n    Load.prototype.start = function () {\n        this.game.state.start(\"Tutorial\");\n    };\n    Load.loadBarDebounce = 10;\n    return Load;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Load;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar default_1 = (function (_super) {\n    __extends(default_1, _super);\n    function default_1() {\n        _super.apply(this, arguments);\n    }\n    default_1.prototype.init = function () {\n        this.stage.backgroundColor = \"#FF0000\";\n    };\n    return default_1;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = default_1;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar slots_1 = require(\"../models/slots\");\nvar stake_1 = require(\"../models/stake\");\nvar reel_1 = require(\"../components/reel\");\nvar Play = (function (_super) {\n    __extends(Play, _super);\n    function Play() {\n        _super.apply(this, arguments);\n    }\n    Play.prototype.init = function () {\n        this.reel = new reel_1.default(this.game, config_1.basic.GAME.CARDS_SPRITE.key, config_1.basic.GAME.CARDS_NUMBER, \"MyBlurY\");\n        this.slots = new slots_1.default(new stake_1.default(null, 1));\n    };\n    Play.prototype.create = function () {\n        var _this = this;\n        this.createCards();\n        this.createReel();\n        this.createBetButtons();\n        this.createAudio();\n        this.toggleInput(true);\n        var textStyle = { alight: \"center\", fill: \"#fff\", font: \"80px Arial\", stroke: \"#000\" };\n        var balanceText = this.add.text(this.cardsGroup.centerX, this.cardsGroup.top - 100, \"Balance\", textStyle);\n        balanceText.anchor.set(0.5, 1);\n        var betText = this.add.text(this.cardsGroup.centerX, this.cardsGroup.bottom + 100, null, textStyle);\n        betText.anchor.set(0.5, 0);\n        this.slots.stake.registerDrawer(function (model, changedProps) {\n            changedProps.forEach(function (prop) {\n                switch (prop) {\n                    case \"bet\":\n                        betText.setText(_this.game.myLocale.bet + \": \" + model.bet);\n                        break;\n                    case \"symbol\": {\n                        var frame_1 = config_1.basic.GAME.CARDS_FRAMES_MAP[model.symbol];\n                        _this.cardsGroup.children.forEach(function (card) {\n                            if (card.frame === frame_1) {\n                                card.tint = 0x0000ff;\n                            }\n                            else {\n                                card.tint = 0xffffff;\n                            }\n                        });\n                        break;\n                    }\n                }\n            });\n        });\n        this.slots.registerDrawer(function (model, changedProps) {\n            balanceText.setText(_this.game.myLocale.balance + \": \" + model.balance);\n        });\n        this.slots.draw([\"stake\", \"balance\"]);\n    };\n    Play.prototype.update = function () {\n        this.reel.onUpdate();\n    };\n    Play.prototype.createCards = function () {\n        var _this = this;\n        this.cardsGroup = this.add.group();\n        this.cardsGroup.inputEnableChildren = true;\n        for (var i = 0; i < config_1.basic.GAME.CARDS_NUMBER; i++) {\n            var b = this.add.button(50 + 128, this.world.centerY, config_1.basic.GAME.CARDS_SPRITE.key);\n            b.frame = i;\n            b.anchor.set(0, 0.5);\n            b.x += (b.width + 50) * i;\n            this.cardsGroup.add(b);\n        }\n        this.cardsGroup.onChildInputOver.add(function (b) {\n            b.tint = 0xff00ff;\n        });\n        this.cardsGroup.onChildInputOut.add(function (b) {\n            b.tint = 0xffffff;\n        });\n        this.cardsGroup.onChildInputDown.add(function (b) {\n            b.tint = 0x0000ff;\n        });\n        this.cardsGroup.onChildInputUp.add(function (b) {\n            b.tint = 0xffffff;\n            _this.onCardClick(b);\n        });\n    };\n    Play.prototype.createReel = function () {\n        var reelWindow = this.add.graphics(this.world.width - 384 - 50, this.world.height / 2 - 128);\n        reelWindow.beginFill(0xffffff);\n        reelWindow.drawRect(0, 0, 256, 256);\n        reelWindow.alpha = 0;\n        this.reel.create(this.world.width - 384 - 50, this.world.height / 2 - 128, reelWindow, 300);\n    };\n    Play.prototype.createBetButtons = function () {\n        var _this = this;\n        this.decrementBtn = this.add.button(this.cardsGroup.centerX - 200, this.cardsGroup.bottom + 80, config_1.basic.GAME.ATLAS_SPRITE.key, function () {\n            if (_this.slots.stake.bet !== config_1.basic.GAME.BET_RANGE[0]) {\n                _this.slots.stake.bet--;\n                _this.toggleBetInput(true);\n            }\n        });\n        this.decrementBtn.anchor.set(0.5, 0);\n        this.decrementBtn.frameName = \"minus-icon.png\";\n        this.incrementBtn = this.add.button(this.cardsGroup.centerX + 200, this.cardsGroup.bottom + 80, config_1.basic.GAME.ATLAS_SPRITE.key, function () {\n            if (_this.slots.stake.bet !== config_1.basic.GAME.BET_RANGE[1]) {\n                _this.slots.stake.bet++;\n                _this.toggleBetInput(true);\n            }\n        });\n        this.incrementBtn.anchor.set(0.5, 0);\n        this.incrementBtn.frameName = \"plus-icon.png\";\n    };\n    Play.prototype.createAudio = function () {\n        this.reelAudio = this.add.audio(config_1.basic.GAME.AUDIO_KEY.REEL);\n        this.bigwinAudio = this.add.audio(config_1.basic.GAME.AUDIO_KEY.BIG_WIN);\n        this.regwinAudio = this.add.audio(config_1.basic.GAME.AUDIO_KEY.REG_WIN);\n    };\n    Play.prototype.onCardClick = function (card) {\n        var _this = this;\n        try {\n            this.reel.start(1000 + Math.random() * 500, 0.5);\n            this.reelAudio.fadeIn(1000);\n            this.reelAudio.loopFull();\n        }\n        catch (e) {\n            ;\n        }\n        this.slots.stake.symbol = this.getFrameSymbol(card.frame);\n        this.slots.spin().then(function (data) {\n            var frame = config_1.basic.GAME.CARDS_FRAMES_MAP[data.spinResult[2]];\n            try {\n                _this.reel.stop(frame).then(function () {\n                    var onComplete = function () {\n                        _this.toggleInput(true);\n                        _this.slots.stake.symbol = null;\n                        _this.slots.balance += data.totalWin;\n                    };\n                    if (data.winType !== config_1.basic.GAME.WIN_TYPE.NONE) {\n                        var item_1 = _this.reel.getTopVisibleItem();\n                        var mask_1 = item_1.mask;\n                        item_1.mask = null;\n                        item_1.anchor.set(0.5);\n                        item_1.x += item_1.width / 2;\n                        item_1.y += item_1.height / 2;\n                        _this.add.tween(item_1.scale).to({ x: 2, y: 2 }, 750, Phaser.Easing.Cubic.InOut, true, 0, 1, true)\n                            .onComplete.add(function () {\n                            onComplete();\n                            item_1.mask = mask_1;\n                            item_1.anchor.set(0);\n                            item_1.x -= item_1.width / 2;\n                            item_1.y -= item_1.height / 2;\n                        });\n                        if (data.winType === config_1.basic.GAME.WIN_TYPE.BIG) {\n                            _this.animateBigWin(data.totalWin, 2000, 500);\n                        }\n                        else {\n                            _this.animateRegWin(data.totalWin, 3000);\n                        }\n                    }\n                    else {\n                        onComplete();\n                    }\n                });\n                _this.reelAudio.fadeOut(1000);\n            }\n            catch (e) {\n                ;\n            }\n        }).catch(function (error) {\n            _this.reel.stop(-1).then(function () { return _this.toggleInput(true); });\n            _this.reelAudio.stop();\n            alert(\"Server error occurred. Please try again.\");\n        });\n        this.toggleInput(false);\n    };\n    Play.prototype.getFrameSymbol = function (frameNumber) {\n        var map = config_1.basic.GAME.CARDS_FRAMES_MAP;\n        var symbols = Object.keys(map);\n        for (var i = 0; i < symbols.length; i++) {\n            if (map[symbols[i]] === frameNumber) {\n                return symbols[i];\n            }\n        }\n        throw new Error(\"Unknown frame\");\n    };\n    Play.prototype.toggleInput = function (enabled) {\n        this.cardsGroup.forEach(function (b) {\n            b.inputEnabled = enabled;\n            if (enabled) {\n                b.input.useHandCursor = true;\n            }\n        }, this);\n        this.cardsGroup.alpha = enabled ? 1 : .5;\n        this.toggleBetInput(enabled);\n    };\n    Play.prototype.toggleBetInput = function (enabled) {\n        var decEnabled = this.slots.stake.bet === config_1.basic.GAME.BET_RANGE[0] ? false : enabled;\n        var incEnabled = this.slots.stake.bet === config_1.basic.GAME.BET_RANGE[1] ? false : enabled;\n        this.decrementBtn.inputEnabled = decEnabled;\n        this.decrementBtn.alpha = decEnabled ? 1 : .5;\n        if (decEnabled) {\n            this.decrementBtn.input.useHandCursor = true;\n        }\n        this.incrementBtn.inputEnabled = incEnabled;\n        this.incrementBtn.alpha = incEnabled ? 1 : .5;\n        if (incEnabled) {\n            this.incrementBtn.input.useHandCursor = true;\n        }\n    };\n    Play.prototype.animateBigWin = function (totalWin, duration, delay) {\n        var _this = this;\n        var win = { count: 1 };\n        var winText = this.add.text(this.world.centerX, this.world.centerY, win.count.toString(), {\n            alight: \"center\",\n            fill: \"#fff\",\n            font: \"200px Arial\",\n            stroke: \"#000\",\n        });\n        duration = Math.max(500, duration);\n        winText.anchor.set(0.5);\n        this.bigwinAudio.fadeIn(500);\n        this.add.tween(winText.scale).to({ x: 3, y: 3 }, duration, Phaser.Easing.Quadratic.In, true, delay);\n        this.add.tween(win).to({ count: totalWin }, duration, Phaser.Easing.Quadratic.In, true, delay)\n            .onUpdateCallback(function () { return winText.setText(win.count.toFixed(0)); })\n            .onComplete.addOnce(function () {\n            _this.time.events.add(500, function () { return winText.destroy(); });\n            _this.bigwinAudio.fadeOut(500);\n        });\n    };\n    Play.prototype.animateRegWin = function (totalWin, duration) {\n        var _this = this;\n        this.regwinAudio.fadeIn(500);\n        this.time.events.add(Math.max(500, duration), function () { return _this.regwinAudio.fadeOut(500); });\n    };\n    return Play;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Play;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar config_1 = require(\"../config\");\nvar preloadingAnimated_1 = require(\"../mixins/states/preloadingAnimated\");\nvar Boot = (function (_super) {\n    __extends(Boot, _super);\n    function Boot() {\n        _super.apply(this, arguments);\n    }\n    Boot.prototype.create = function () {\n        _super.prototype.create.call(this);\n        this.startPreLoading();\n    };\n    Boot.prototype.startPreLoading = function () {\n        _super.prototype.startPreLoading.call(this);\n        this.load.json(\"config\", config_1.basic.API_BASE + config_1.basic.CONFIG_PATH);\n        this.load.onFileComplete.add(this.onFileComplete, this);\n        this.load.onLoadComplete.addOnce(this.onPreLoadComplete, this);\n        this.load.start();\n    };\n    Boot.prototype.onFileComplete = function (progress, key, success) {\n        if (success) {\n            switch (key) {\n                case \"config\":\n                    {\n                        this.game.myConfig = this.cache.getJSON(\"config\");\n                        var _a = this.game.myConfig, localePath = _a.localePath, locale = _a.locale;\n                        this.load.json(\"locale\", config_1.basic.API_BASE + localePath + locale + \".json\");\n                    }\n                    break;\n            }\n        }\n        else {\n            this.load.onFileComplete.remove(this.onFileComplete, this);\n            this.game.state.start(\"Loadfail\");\n        }\n    };\n    Boot.prototype.onPreLoadComplete = function () {\n        var _this = this;\n        _super.prototype.onPreLoadComplete.call(this, function () { return _this.game.state.start(\"Load\"); });\n        this.game.myLocale = this.cache.getJSON(\"locale\");\n    };\n    return Boot;\n}(preloadingAnimated_1.default(Phaser.State)));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Boot;\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Tutorial = (function (_super) {\n    __extends(Tutorial, _super);\n    function Tutorial() {\n        _super.apply(this, arguments);\n    }\n    Tutorial.prototype.create = function () {\n        this.initControls();\n        this.wavesFilter = this.add.filter(\"CheckerWave\", this.world.width, this.world.height);\n        var background = this.add.sprite(0, 0);\n        background.width = this.world.width;\n        background.height = this.world.height;\n        background.filters = [this.wavesFilter];\n        var textStyle = { alight: \"center\", fill: \"#fff\", font: \"100px Arial\", stroke: \"#000\" };\n        var title = this.game.add.text(this.game.world.centerX, this.game.world.centerY - 100, this.game.myLocale.gameTitle, textStyle);\n        title.anchor.set(0.5);\n        textStyle.font = \"48px Arial\";\n        var instructions = this.game.add.text(this.game.world.centerX, this.game.world.centerY, this.game.myLocale.gameInstructions, textStyle);\n        instructions.anchor.set(0.5);\n    };\n    Tutorial.prototype.update = function () {\n        this.wavesFilter.update();\n    };\n    Tutorial.prototype.initControls = function () {\n        var _this = this;\n        this.game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR).onDown.addOnce(function () { return _this.game.state.start(\"Play\"); });\n    };\n    return Tutorial;\n}(Phaser.State));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Tutorial;\n"],"sourceRoot":"/source/"}